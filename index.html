<!DOCTYPE html>
<html lang="en">
<head>
    <title>retro-term</title>
    <meta lang="en"/>
    <meta charset="UTF-8">
    <meta name="author" content="Nathan Douglas Klapstein"/>
    <meta name="description" content="Nathan Douglas Klapstein's Retro Terminal">

    <link rel="stylesheet" href="assets/main.css">

    <link href="assets/crt.css" rel="stylesheet"/>

    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.terminal/1.14.0/js/jquery.terminal.min.js"></script>
    <link href="assets/jquery.terminal.css" rel="stylesheet"/>
</head>
<body class="frame crt">

        <div id="term" style="overflow: hidden;"></div>
        <script>

            let height = $(window).height();
            let offset = height*0.1;
            height = height - offset;

            $('#term').css("top", offset*0.55);
            $('#term').css("height", height);

            $( window ).resize(function() {
                height = $(window).height();
                offset = height*0.1;
                height = height - offset;
                // rounding is hard
                $('#term').css("top", offset*0.55);
                $('#term').css("height", height);
            });

            jQuery(function ($, undefined) {
                $('#term').terminal(function (command) {
                    command = command.trim()
                    if (command !== '') {
                        if (command === "help") {
                            this.echo("ls [pathname]\nview [filename]");
                        } else if (command === "ls") {
                            this.echo("RESUME.rst")
                        } else if (command === "view") {
                            if (command.split(" ")[1] == "RESUME.rst"){
                                this.echo("HIRE ME")
                            } else {
                                this.echo("file not found")
                            }
                        } else {
                            this.echo(command.split(" ")[0]+": command not found")
                        }
                    } else {
                        this.echo('');
                    }
                }, {
                    greetings: 'Welcome to klapstein.ca type `help` for list of commands',
                    name: 'term',
                    height: height,
                    prompt: 'ks> '
                });
            });
        </script>
</body>
</html>